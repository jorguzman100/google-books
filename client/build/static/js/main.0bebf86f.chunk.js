(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,a,t){e.exports=t(91)},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(27),c=t.n(r),o=t(11),s=t(19),i=t(6),m=t(99),u=t(97),d=t(93);var h=function(e){var a=e.theme,t=e.onToggleTheme,n=e.toggleLabel,r=Object(i.f)(),c="/"===r.pathname||"/home"===r.pathname||"/Search"===r.pathname;return l.a.createElement(m.a,{expand:"lg",className:"gb-navbar"},l.a.createElement(m.a.Brand,{as:s.b,to:"/Search",className:"gb-brand"},l.a.createElement("span",{className:"gb-brand-mark-wrap","aria-hidden":"true"},l.a.createElement("img",{src:"".concat("","/brand-mark.svg"),className:"gb-brand-mark",alt:""})),l.a.createElement("span",{className:"gb-brand-copy"},l.a.createElement("span",{className:"gb-brand-title"},"ShelfSpark"),l.a.createElement("span",{className:"gb-brand-subtitle"},"Discover stories in style"))),l.a.createElement(m.a.Toggle,{"aria-controls":"gb-navbar-nav"}),l.a.createElement(m.a.Collapse,{id:"gb-navbar-nav",className:"justify-content-end"},l.a.createElement(u.a,{className:"align-items-lg-center gb-nav-links"},l.a.createElement(u.a.Link,{as:s.b,to:"/Search",className:"gb-nav-link ".concat(c?"is-active":"")},"Explore"),l.a.createElement(u.a.Link,{as:s.b,to:"/Save",className:"gb-nav-link ".concat("/Save"===r.pathname?"is-active":"")},"Saved Shelf"),l.a.createElement(d.a,{type:"button",className:"theme-toggle-btn",onClick:t,"aria-label":n},l.a.createElement("span",{className:"theme-toggle-orb ".concat("dark"===a?"is-dark":""),"aria-hidden":"true"}),l.a.createElement("span",{className:"theme-toggle-text"},"dark"===a?"Dark":"Light"," mode")))))},b=t(98),p=(t(68),[{image:"".concat("","/images/carousel1.jpg"),badge:"Explore",title:"Find books that match your vibe",subtitle:"Search millions of titles and surface new favorites in seconds."},{image:"".concat("","/images/carousel2.jpg"),badge:"Curate",title:"Build a beautiful personal reading shelf",subtitle:"Save what matters now and return to it whenever inspiration hits."},{image:"".concat("","/images/carousel3.jpg"),badge:"Flow",title:"Move from discovery to deep reading",subtitle:"Jump straight to official previews and keep momentum in your reading journey."}]),g=function(){return l.a.createElement("section",{className:"hero-block","aria-label":"Featured book discovery"},l.a.createElement(b.a,{className:"hero-carousel",indicators:!0,controls:!0,fade:!0,interval:6500},p.map(function(e){return l.a.createElement(b.a.Item,{key:e.title},l.a.createElement("div",{className:"hero-image-shell"},l.a.createElement("img",{className:"hero-image",src:e.image,alt:e.title}),l.a.createElement("div",{className:"hero-overlay"})),l.a.createElement(b.a.Caption,{className:"hero-caption"},l.a.createElement("p",{className:"hero-eyebrow"},e.badge),l.a.createElement("h2",null,e.title),l.a.createElement("p",null,e.subtitle)))})))},v=t(53),k=t(100),f=t(101),E=t(96),N=t(54),S=(t(69),function(e){var a=e.search,t=e.handleInputChange,n=e.handleFormSubmit,r=e.isLoading;return l.a.createElement(f.a,{className:"search-panel"},l.a.createElement(f.a.Body,{className:"search-panel-body"},l.a.createElement("div",{className:"search-panel-header"},l.a.createElement("p",{className:"search-kicker"},"Book Discovery Studio"),l.a.createElement("h1",null,"What are you reading next?"),l.a.createElement("p",null,"Search by title, topic, or author and turn your browsing session into a polished personal shelf.")),l.a.createElement(E.a,{className:"search-form",onSubmit:n},l.a.createElement(N.a,{type:"text",placeholder:"Try: architecture, stoicism, UX writing...",className:"search-input",name:"search",value:a,onChange:t,"aria-label":"Search books"}),l.a.createElement(d.a,{className:"search-submit-btn",onClick:n,disabled:r},r?"Searching...":"Search Books")),l.a.createElement("div",{className:"search-pills","aria-hidden":"true"},l.a.createElement("span",{className:"search-pill"},"Fast search"),l.a.createElement("span",{className:"search-pill"},"Live previews"),l.a.createElement("span",{className:"search-pill"},"One-click save"))))}),w=t(95),y=t(94),j=t(55),O=(t(70),function(e){var a=e.title,t=e.subtitle,n=e.authors,r=e.description,c=e.image,o=e.link,s=e.handleSaveClick,m=e.handleDeleteClick,u=Object(i.f)(),h="/"===u.pathname||"/home"===u.pathname||"/Search"===u.pathname,b=Array.isArray(n)?n.join(", "):n||"Unknown author",p=t||"No subtitle provided",g=r||"No description is available for this book yet.";return l.a.createElement(f.a,{className:"book-card"},l.a.createElement(f.a.Body,null,l.a.createElement(y.a,{className:"align-items-start"},l.a.createElement(j.a,{md:9},l.a.createElement("div",{className:"book-copy"},l.a.createElement(w.a,{className:"book-badge",variant:"light"},h?"Live result":"Saved book"),l.a.createElement(f.a.Title,{className:"book-title"},a),l.a.createElement(f.a.Subtitle,{className:"book-subtitle"},p),l.a.createElement("p",{className:"book-authors"},"By ",b))),l.a.createElement(j.a,{md:3,className:"book-actions-col"},l.a.createElement(d.a,{as:"a",href:o||"#",target:"_blank",rel:"noopener noreferrer",className:"book-action-btn book-action-view",onClick:o?void 0:function(e){return e.preventDefault()}},"Read Preview"),h?l.a.createElement(d.a,{className:"book-action-btn book-action-save",onClick:s},"Save Book"):l.a.createElement(d.a,{className:"book-action-btn book-action-delete",onClick:m},"Delete Book"))),l.a.createElement(y.a,{className:"align-items-start mt-3"},l.a.createElement(j.a,{xs:4,sm:3,md:2},l.a.createElement("img",{className:"book-cover",src:c,alt:"Cover for ".concat(a)})),l.a.createElement(j.a,{xs:8,sm:9,md:10},l.a.createElement(f.a.Text,{className:"book-description"},g)))))}),C=(t(71),"".concat("","/images/book-placeholder.svg")),x=function(e){var a=e.title,t=e.results,n=e.showAlert,r=e.handleSaveClick,c=e.handleDeleteClick,o="/Save"===Object(i.f)().pathname,s=parseInt(n,10),m=(t||[]).reduce(function(e,a,t){if(!a)return e;if(!o){if(!a.volumeInfo)return e;var n=a.volumeInfo;return e.push({index:t,_id:a.id,title:n.title||"Untitled",subtitle:n.subtitle,authors:n.authors,description:n.description,image:n.imageLinks?n.imageLinks.thumbnail:C,link:n.infoLink}),e}return e.push({index:t,_id:a._id,title:a.title||"Untitled",subtitle:a.subtitle,authors:a.authors,description:a.description,image:a.image||C,link:a.link}),e},[]);return l.a.createElement(f.a,{className:"results-panel"},l.a.createElement(f.a.Header,{className:"results-panel-header"},l.a.createElement("div",null,l.a.createElement("p",{className:"results-kicker"},o?"Saved Collection":"Live Search"),l.a.createElement("h2",null,a)),l.a.createElement(w.a,{className:"results-count",pill:!0},m.length," ",1===m.length?"book":"books")),l.a.createElement(f.a.Body,{className:"results-panel-body"},0===m.length?l.a.createElement("div",{className:"results-empty-state"},l.a.createElement("img",{src:"".concat("","/brand-mark.svg"),className:"results-empty-icon",alt:"ShelfSpark icon"}),l.a.createElement("h3",null,o?"Your shelf is empty":"Start with a search"),l.a.createElement("p",null,o?"Books you save will appear here so you can quickly revisit them later.":"Type a title, author, or topic above to reveal book recommendations.")):m.map(function(e){return l.a.createElement("div",{key:"".concat(e._id,"-").concat(e.index),className:"results-item"},l.a.createElement(O,{title:e.title,subtitle:e.subtitle,authors:e.authors,description:e.description,image:e.image,link:e.link,handleSaveClick:function(){return r?r(e.index):void 0},handleDeleteClick:function(){return c?c(e._id,e.index):void 0}}),Number.isNaN(s)||s!==e.index?null:l.a.createElement(k.a,{className:"book-feedback-alert",variant:o?"warning":"success"},o?"Book removed from your saved shelf.":"Book saved to your shelf."))})))},B=t(22),L=t.n(B),D=function(e){return L.a.get("/api/Google_API/"+e)},I=function(){return L.a.get("/api/books")},T=function(e){return L.a.delete("/api/books/"+e)},_=function(e){return L.a.post("/api/books",e)},A="".concat("","/images/book-placeholder.svg"),U=function(){var e=Object(n.useState)({search:""}),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),i=s[0],m=s[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),h=d[0],b=d[1],p=Object(n.useState)(!1),g=Object(o.a)(p,2),f=g[0],E=g[1],N=Object(n.useState)(""),w=Object(o.a)(N,2),y=w[0],j=w[1],O=Object(n.useState)(!1),C=Object(o.a)(O,2),B=C[0],L=C[1],I=function(e){b(e),setTimeout(function(){b("")},2500)};return l.a.createElement("section",{className:"page-shell"},l.a.createElement(S,{search:t.search,handleInputChange:function(e){var a=e.target,t=a.name,n=a.value;r(Object(v.a)({},t,n)),y&&j("")},handleFormSubmit:function(e){e.preventDefault(),function(e){var a=e.trim();if(!a)return j("Add a search term first so we can fetch recommendations."),void m([]);L(!0),E(!0),j(""),D(a).then(function(e){m(e&&e.data&&e.data.items?e.data.items:[]),j("")}).catch(function(){j("Book search is unavailable right now. Please try again."),m([])}).finally(function(){E(!1)})}(t.search)},isLoading:f}),y?l.a.createElement(k.a,{className:"status-alert",variant:"danger"},y):null,l.a.createElement(x,{title:B?"Search Results":"Discover Books",results:i,showAlert:h,handleSaveClick:function(e){var a=i[e],t=a?a.volumeInfo:void 0;if(a&&t){var n=t.imageLinks?t.imageLinks.thumbnail:A;!function(e,a){_(e).then(function(){j(""),I(a)}).catch(function(){j("Unable to save this book right now. Please try again.")})}({_id:a.id,title:t.title,subtitle:t.subtitle,authors:t.authors,description:t.description,image:n,link:t.infoLink},e)}}}))},F=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),i=s[0],m=s[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),h=d[0],b=d[1];Object(n.useEffect)(function(){p()},[]);var p=function(){I().then(function(e){r(e.data||[]),b("")}).catch(function(){b("Unable to load your saved shelf right now.")})},g=function(e){m(e),setTimeout(function(){m(""),p()},1800)};return l.a.createElement("section",{className:"page-shell"},h?l.a.createElement(k.a,{className:"status-alert",variant:"danger"},h):null,l.a.createElement(x,{title:"Saved Books",results:t,showAlert:i,handleDeleteClick:function(e,a){!function(e,a){T(e).then(function(){b(""),g(a)}).catch(function(){b("Unable to remove this book right now.")})}(e,a)}}))},P=(t(90),"google_books_theme"),J=function(){if("undefined"===typeof window)return"light";var e=window.localStorage.getItem(P);return"dark"===e||"light"===e?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};var M=function(){var e=Object(n.useState)(J),a=Object(o.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)(function(){document.body.setAttribute("data-theme",t),window.localStorage.setItem(P,t)},[t]),l.a.createElement(s.a,null,l.a.createElement("div",{className:"app-shell theme-".concat(t)},l.a.createElement("div",{className:"app-glow app-glow-left"}),l.a.createElement("div",{className:"app-glow app-glow-right"}),l.a.createElement(h,{theme:t,onToggleTheme:function(){r(function(e){return"dark"===e?"light":"dark"})},toggleLabel:"Switch to ".concat("dark"===t?"light":"dark"," mode")}),l.a.createElement("main",{className:"app-content"},l.a.createElement(g,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:["/","/home","/Search"],component:U}),l.a.createElement(i.a,{exact:!0,path:"/Save",component:F})))))};c.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.0bebf86f.chunk.js.map